<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ✅ SEO: Title & Description -->
  <title>FuelFinder Mali – Trouvez facilement du carburant au Mali</title>
  <meta
    name="description"
    content="FuelFinder Mali aide les citoyens à localiser les stations-service disponibles et les prix du carburant en temps réel à travers le Mali."
  />

  <!-- ✅ Canonical URL (helps Google index the main link) -->
  <link rel="canonical" href="https://fuelfindermali-production.up.railway.app/" />

  <!-- ✅ Open Graph (Facebook, WhatsApp, etc.) -->
  <meta property="og:title" content="FuelFinder Mali – Trouvez du carburant rapidement" />
  <meta
    property="og:description"
    content="Localisez les stations-service disponibles et les prix du carburant en temps réel à travers le Mali."
  />
  <meta property="og:url" content="https://fuelfindermali-production.up.railway.app/" />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="https://fuelfindermali-production.up.railway.app/cover.jpg" />

  <!-- ✅ Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="FuelFinder Mali – Trouvez du carburant rapidement" />
  <meta
    name="twitter:description"
    content="Localisez les stations-service disponibles et les prix du carburant en temps réel à travers le Mali."
  />
  <meta name="twitter:image" content="https://fuelfindermali-production.up.railway.app/cover.jpg" />

  <!-- ✅ No favicon 404 (fix) -->
  <link rel="icon" href="data:,">

  <!-- ✅ Manifest / PWA (optional, if you have it) -->
  <link rel="manifest" href="/manifest.json" />

  <!-- ✅ Main Styles / Scripts -->
  <link rel="stylesheet" href="/index.css" />
  <script type="module" src="/main.js"></script>
</head>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "FuelFinder Mali",
  "url": "https://fuelfindermali-production.up.railway.app",
  "logo": "https://fuelfindermali-production.up.railway.app/logo.png",
  "description": "FuelFinder Mali – trouvez et signalez les stations-service disponibles au Mali.",
  "sameAs": [
    "https://www.facebook.com/FuelFinderMali",
    "https://www.linkedin.com/company/fuelfinder-mali/"
  ]
}
</script>

<body class="font-sans relative">
    <!-- Animated background shapes -->
    <div class="bg-shape shape-1"></div>
    <div class="bg-shape shape-2"></div>
    <div class="bg-shape shape-3"></div>

    <!-- Header with Mali colors -->
    <header class="mali-gradient shadow-lg py-6 px-4 sticky top-0 z-50 relative">
        <div class="container mx-auto text-center">
            <h1 class="text-4xl font-bold text-white flex items-center justify-center drop-shadow-lg floating-animation">
                <span class="text-5xl mr-3 pulse-animation">⛽</span>
                FuelFinder Mali
            </h1>
            <p class="text-white mt-3 text-sm md:text-base font-medium drop-shadow">
                🇲🇱 Ensemble, trouvons du carburant au Mali
            </p>
            <p class="text-yellow-100 text-xs mt-2 bg-black bg-opacity-20 inline-block px-4 py-1 rounded-full pulse-animation">
                ⚠️ Informations communautaires - Vérifiez toujours sur place
            </p>
        </div>
    </header>

    <!-- Add Station Form -->
    <section class="py-8 px-4 pattern-bg relative z-10">
        <div class="container mx-auto max-w-md">
            <div class="form-container rounded-2xl shadow-xl p-6 card-shadow border-t-4" style="border-color: var(--mali-gold);">
                <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                    <span class="text-3xl mr-3 floating-animation">📍</span>
                    Signaler une station
                </h2>
                <form class="space-y-5" method="POST" action="">
                    {% csrf_token %}
                    <div>
                        <label for="station-name" class="block text-sm font-bold text-gray-700 mb-2">
                            🏪 Nom de la station
                        </label>
                        <input 
                            type="text" 
                            name="station-name" 
                            id="station-name" 
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 transition-all"
                            placeholder="Ex: Station Total Bamako"
                            required
                        >
                    </div>
                    <div>
                        <label for="location" class="block text-sm font-bold text-gray-700 mb-2">
                            📌 Localisation
                        </label>
                        <input 
                            type="text" 
                            name="location" 
                            id="location" 
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 transition-all"
                            placeholder="Ex: Bamako, Quartier ACI 2000"
                            required
                        >
                    </div>
                    <div>
                        <label for="status" class="block text-sm font-bold text-gray-700 mb-2">
                            🔄 Statut du carburant
                        </label>
                        <select 
                            name="status" 
                            id="status" 
                            class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-yellow-400 transition-all bg-white"
                        >
                            <option value="disponible">✅ Carburant Disponible</option>
                            <option value="indisponible">❌ Pas de carburant</option>
                        </select>
                    </div>
                    <button 
                        type="submit" 
                        class="w-full btn-mali text-white font-bold py-4 px-6 rounded-xl shadow-lg relative"
                    >
                        🚀 Publier l'information
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Search Bar -->
    <section class="py-6 px-4 search-container relative z-10">
        <div class="container mx-auto max-w-2xl">
            <div class="relative">
                <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-3xl pulse-animation">🔍</span>
                <input 
                    type="text" 
                    id="search-station" 
                    placeholder="Rechercher une station ou une ville..."
                    class="w-full pl-16 pr-4 py-5 border-2 border-white rounded-2xl focus:outline-none search-glow text-lg shadow-lg bg-white transition-all"
                >
            </div>
        </div>
    </section>

    <!-- Stations List -->
    <section class="py-8 px-4 relative z-10">
        <div class="container mx-auto max-w-2xl">
            <div class="section-header rounded-xl p-4 shadow-lg mb-6">
                <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="text-3xl mr-3 floating-animation">📋</span>
                    Stations signalées
                    <span class="ml-auto text-sm bg-yellow-400 text-gray-800 px-4 py-2 rounded-full font-bold pulse-animation shadow-md">
                        Récentes
                    </span>
                </h2>
            </div>
            <div id="stations-list" class="space-y-4">
                {% for station in stations %}
                <div class="station-card bg-white p-5 rounded-xl card-shadow">
                    <div class="flex justify-between items-start mb-3">
                        <h3 class="font-bold text-xl text-gray-800">{{ station.name }}</h3>
                        <span class="status-badge inline-flex items-center px-3 py-1 rounded-full text-xs font-bold {% if station.status == 'disponible' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}">
                            {% if station.status == 'disponible' %}
                                🟢 Disponible
                            {% else %}
                                🔴 Rupture
                            {% endif %}
                        </span>
                    </div>
                    <p class="text-gray-600 mb-3 flex items-center">
                        <span class="text-xl mr-2">📍</span>
                        {{ station.location }}
                    </p>
                    <div class="flex items-center text-xs text-gray-500 bg-gradient-to-r from-gray-50 to-yellow-50 px-3 py-2 rounded-lg">
                        <span class="mr-2">🕒</span>
                        Mise à jour: {{ station.created_at|timesince }}
                    </div>
                </div>
                {% empty %}
                <div class="bg-white p-8 rounded-xl text-center card-shadow station-card">
                    <span class="text-6xl mb-4 block floating-animation">🔍</span>
                    <p class="text-gray-500 text-lg">Aucune station signalée pour l'instant.</p>
                    <p class="text-gray-400 text-sm mt-2">Soyez le premier à partager une information !</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- Google Maps Button -->
    <section class="py-8 px-4 mali-gradient-reverse relative z-10">
        <div class="container mx-auto max-w-4xl">
            <div class="section-header rounded-xl p-6 shadow-lg mb-6 bg-white">
                <h2 class="text-2xl font-bold text-gray-800 flex items-center">
                    <span class="text-3xl mr-3 floating-animation">🗺️</span>
                    Voir sur Google Maps
                </h2>
            </div>
            <div id="map-container" class="rounded-2xl shadow-2xl overflow-hidden p-8 text-center">
                <div class="bg-white rounded-xl p-8">
                    <div class="text-6xl mb-4 floating-animation">🌍</div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-4">Explorez toutes les stations au Mali</h3>
                    <p class="text-gray-600 mb-6">Cliquez pour ouvrir Google Maps et rechercher des stations de carburant partout au Mali</p>
                    <a 
                        href="https://www.google.com/maps/search/station+service/@17.5707,-3.9962,6z" 
                        target="_blank"
                        class="map-button inline-block text-white font-bold py-5 px-10 rounded-2xl shadow-xl text-lg relative z-10"
                    >
                        <span class="relative z-10 flex items-center justify-center">
                            🚀 Ouvrir Google Maps
                        </span>
                    </a>
                    <p class="text-sm text-gray-500 mt-4">🔍 Recherchez "station service Mali" ou toute ville malienne</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="mali-gradient text-white py-8 px-4 text-center mt-8 relative z-10">
        <div class="container mx-auto">
            <div class="floating-animation inline-block mb-4">
                <span class="text-5xl">🇲🇱</span>
            </div>
            <p class="text-2xl font-bold mb-3">Made with ❤️ for Mali</p>
            <p class="text-lg text-yellow-100 mb-4">Ensemble, nous sommes plus forts</p>
            <div class="flex justify-center space-x-6 mb-4 text-3xl">
                <span class="pulse-animation">⛽</span>
                <span class="pulse-animation" style="animation-delay: 0.2s;">🚗</span>
                <span class="pulse-animation" style="animation-delay: 0.4s;">🛣️</span>
            </div>
            <p class="text-sm mt-4 text-yellow-200">© 2025 FuelFinder Mali - Tous droits réservés</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Search functionality
        const searchInput = document.getElementById('search-station');
        searchInput.addEventListener('input', function() {
            const filter = this.value.toLowerCase();
            const stationCards = document.querySelectorAll('#stations-list > div');
            
            stationCards.forEach(card => {
                const name = card.querySelector('h3')?.innerText.toLowerCase() || '';
                const location = card.querySelector('p')?.innerText.toLowerCase() || '';
                
                if(name.includes(filter) || location.includes(filter)) {
                    card.style.display = '';
                    card.style.animation = 'fadeIn 0.5s ease-in';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // Form validation with visual feedback
        const form = document.querySelector('form');
        if (form) {
            form.addEventListener('submit', function(e) {
                const button = this.querySelector('button[type="submit"]');
                button.innerHTML = '⏳ Publication en cours...';
                button.disabled = true;
            });
        }

        // Add smooth scroll behavior
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
</body>
</html>
